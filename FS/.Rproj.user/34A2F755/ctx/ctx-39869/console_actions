{
    "type": [
        2,
        2,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        3,
        3,
        3,
        3,
        2
    ],
    "data": [
        "\nR version 4.1.0 (2021-05-18) -- \"Camp Pontanezen\"\nCopyright (C) 2021 The R Foundation for Statistical Computing\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\n\nR is free software and comes with ABSOLUTELY NO WARRANTY.\nYou are welcome to redistribute it under certain conditions.\nType 'license()' or 'licence()' for distribution details.\n\nR is a collaborative project with many contributors.\nType 'contributors()' for more information and\n'citation()' on how to cite R or R packages in publications.\n\nType 'demo()' for some demos, 'help()' for on-line help, or\n'help.start()' for an HTML browser interface to help.\nType 'q()' to quit R.\n\n",
        "[Workspace loaded from C:/Users/EmilyWalker/What works for Early Intervention and Childrens Social Care/High-SFPC-Impact - Documents/Working folder/sfpc_familysafeguarding_cleaning/.RData]\r\n\r\n",
        "> ",
        "est version of R ",
        "Error: unexpected symbol in \"est version\"\n",
        "> ",
        "updateR()",
        "Error in updateR() : could not find function \"updateR\"\n",
        "> ",
        "check.for.updates.R() # if newer version R available or not",
        "Error in check.for.updates.R() : \n  could not find function \"check.for.updates.R\"\n",
        "> ",
        "",
        "> ",
        "install.R() # download and run the latest version R installer",
        "Error in install.R() : could not find function \"install.R\"\n",
        "> ",
        "updateR() ",
        "Error in updateR() : could not find function \"updateR\"\n",
        "> ",
        "# Check if latest version of R ",
        "> ",
        "install.packages(\"installr\")",
        "WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\n",
        "Installing package into ‘C:/Users/EmilyWalker/OneDrive - What works for Early Intervention and Childrens Social Care/Documents/R/win-library/4.1’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.1/installr_0.23.4.zip'\n",
        "Content type 'application/zip'",
        " length 352164 bytes (343 KB)\n",
        "downloaded 343 KB\n\n",
        "package ‘installr’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\EmilyWalker\\AppData\\Local\\Temp\\Rtmp8AewzR\\downloaded_packages\n",
        "> ",
        "",
        "> ",
        "library(installr)",
        "\nWelcome to installr version 0.23.4\n\nMore information is available on the installr project website:\nhttps://github.com/talgalili/installr/\n\nContact: <tal.galili@gmail.com>\nSuggestions and bug-reports can be submitted at: https://github.com/talgalili/installr/issues\n\n\t\t\tTo suppress this message use:\n\t\t\tsuppressPackageStartupMessages(library(installr))\n\n",
        "Warning message:\n",
        "package ‘installr’ was built under R version 4.1.3 \n",
        "> ",
        "",
        "> ",
        "updateR()",
        "[1] FALSE\n",
        "> ",
        "library(tidyverse)",
        "-- \u001B[1mAttaching core tidyverse packages\u001B[22m ------------------------------------------------------------------ tidyverse 2.0.0 --\n\u001B[32mv\u001B[39m \u001B[34mdplyr    \u001B[39m 1.1.2     \u001B[32mv\u001B[39m \u001B[34mreadr    \u001B[39m 2.1.4\n\u001B[32mv\u001B[39m \u001B[34mforcats  \u001B[39m 1.0.0     \u001B[32mv\u001B[39m \u001B[34mstringr  \u001B[39m 1.5.0\n\u001B[32mv\u001B[39m \u001B[34mggplot2  \u001B[39m 3.4.1     \u001B[32mv\u001B[39m \u001B[34mtibble   \u001B[39m 3.2.1\n\u001B[32mv\u001B[39m \u001B[34mlubridate\u001B[39m 1.9.2     \u001B[32mv\u001B[39m \u001B[34mtidyr    \u001B[39m 1.3.0\n\u001B[32mv\u001B[39m \u001B[34mpurrr    \u001B[39m 1.0.1     \n-- \u001B[1mConflicts\u001B[22m ------------------------------------------------------------------------------------ tidyverse_conflicts() --\n\u001B[31mx\u001B[39m \u001B[34mdplyr\u001B[39m::\u001B[32mfilter()\u001B[39m masks \u001B[34mstats\u001B[39m::filter()\n\u001B[31mx\u001B[39m \u001B[34mdplyr\u001B[39m::\u001B[32mlag()\u001B[39m    masks \u001B[34mstats\u001B[39m::lag()\n\u001B[36mi\u001B[39m Use the \u001B]8;;http://conflicted.r-lib.org/\u0007conflicted package\u001B]8;;\u0007 to force all conflicts to become errors\n",
        "Warning messages:\n",
        "1: package ‘tidyverse’ was built under R version 4.1.3 \n",
        "2: package ‘ggplot2’ was built under R version 4.1.3 \n",
        "3: package ‘tibble’ was built under R version 4.1.3 \n",
        "4: package ‘tidyr’ was built under R version 4.1.3 \n",
        "5: package ‘readr’ was built under R version 4.1.3 \n",
        "6: package ‘purrr’ was built under R version 4.1.3 \n",
        "7: package ‘dplyr’ was built under R version 4.1.3 \n",
        "8: package ‘stringr’ was built under R version 4.1.3 \n",
        "9: package ‘forcats’ was built under R version 4.1.3 \n",
        "10: package ‘lubridate’ was built under R version 4.1.3 \n",
        "> ",
        "library(dplyr)",
        "> ",
        "library(readxl)",
        "Warning message:\n",
        "package ‘readxl’ was built under R version 4.1.3 \n",
        "> ",
        "library(tibble)",
        "> ",
        "library(lubridate)",
        "> ",
        "library(data.table)",
        "data.table 1.14.8 using 4 threads (see ?getDTthreads).  Latest news: r-datatable.com\n",
        "\nAttaching package: ‘data.table’\n\n",
        "The following objects are masked from ‘package:lubridate’:\n\n    hour, isoweek, mday, minute, month, quarter, second, wday, week, yday, year\n\n",
        "The following objects are masked from ‘package:dplyr’:\n\n    between, first, last\n\n",
        "The following object is masked from ‘package:purrr’:\n\n    transpose\n\n",
        "Warning message:\n",
        "package ‘data.table’ was built under R version 4.1.3 \n",
        "> ",
        "",
        "> ",
        "# Clearing R -------------------------",
        "> ",
        "rm(list = ls())",
        "> ",
        "",
        "> ",
        "# READING IN THE DR1 FILES ---------------------------------------",
        "> ",
        "",
        "> ",
        "##  Alternative code where things are read in individually - more time consuming --------------------",
        "> ",
        "",
        "> ",
        "# Read in LANCASHIRE INDIVIDUALLY  ===================================",
        "> ",
        "interim_lancs_dr1_nov20 <- read_excel(\"Data/FS_DR1/lancashire_dr1_nov20.xlsx\", ",
        "+ ",
        "                                      sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                      range = \"A2:N20\")",
        "> ",
        "                                    ",
        "> ",
        "",
        "> ",
        "class(interim_lancs_dr1_nov20$Month)",
        "[1] \"POSIXct\" \"POSIXt\" \n",
        "> ",
        "# Nov 20 dataset has three additional columns ",
        "> ",
        "colnames(interim_lancs_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                           \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                        \n [3] \"Average number of cases per children and family social worker (FTE counts)\"                                                                                      \n [4] \"Proportion of plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"",
        "\n [5] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"    \n [6] \"Turnover rate of children and family social caseholder staff\"                                                                                                    \n [7] \"CLA rate per 10,000 children\"                                                                                                                                    \n [8] \"Number of children looked after at the end of the  month in the LA\"                                                                                              ",
        "\n [9] \"Number of children who newly became looked after this month in the LA\"                                                                                           \n[10] \"Number of CIN plans that started this month in the LA\"                                                                                                           \n[11] \"Number of open CIN cases this month in the LA\"                                                                                                                   \n[12] \"Number of CPPs that started this month in the LA\"                                                                                                                ",
        "\n[13] \"Number of open CPPs this month in the LA\"                                                                                                                        \n[14] \"Number of new referrals this month in the LA\"                                                                                                                    \n",
        "> ",
        "# Check column names for another submission. Others do not have cols 3,4,6",
        "> ",
        "lancs_dr1_ap21 <- read_excel(\"Data/FS_DR1/lancashire_dr1_apr21.xlsx\", ",
        "+ ",
        "                             sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                             range = \"A1:K7\")",
        "> ",
        "",
        "> ",
        "colnames(lancs_dr1_ap21)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA\"                                                                                                               ",
        "\n [9] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[10] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[11] \"Number of new referrals this month in the LA\"                                                                                                                \n",
        "> ",
        "# Subset the df so that it matches the other DR1 entries",
        "> ",
        "lancs_dr1_nov20 <- interim_lancs_dr1_nov20[-c(3,4,6)]",
        "> ",
        "# Checking to see if these worked. It did. ",
        "> ",
        "colnames(lancs_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA\"                                                                                                               ",
        "\n [9] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[10] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[11] \"Number of new referrals this month in the LA\"                                                                                                                \n",
        "> ",
        "# Remove interim df",
        "> ",
        "rm(interim_lancs_dr1_nov20)",
        "> ",
        "",
        "> ",
        "# Reading in the rest of the data for Lancashire",
        "> ",
        "lancs_dr1_apr21 <- read_excel(\"Data/FS_DR1/lancashire_dr1_apr21.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                             range = \"A1:K7\")",
        "> ",
        "lancs_dr1_nov21 <- read_excel(\"Data/FS_DR1/lancashire_dr1_nov21.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\")",
        "> ",
        "lancs_dr1_apr22 <- read_excel(\"Data/FS_DR1/lancashire_dr1_apr22.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\")",
        "> ",
        "lancs_dr1_nov22 <- read_excel(\"Data/FS_DR1/lancashire_dr1_nov22.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\")",
        "> ",
        "",
        "> ",
        "colnames(lancs_dr1_ap21)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA\"                                                                                                               ",
        "\n [9] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[10] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[11] \"Number of new referrals this month in the LA\"                                                                                                                \n",
        "> ",
        "",
        "> ",
        "# Investigating the dates in Lancashire---------------------",
        "> ",
        "dataframe_names <- c(\"lancs_dr1_ap21\", \"lancs_dr1_apr22\", \"lancs_dr1_nov21\", \"lancs_dr1_nov22\", \"lancs_dr1_nov20\")",
        "> ",
        "",
        "> ",
        "# Loop over the dataframe names",
        "> ",
        "for (df_name in dataframe_names) {",
        "+ ",
        "  # Get the dataframe object using its name",
        "+ ",
        "  df <- get(df_name)",
        "+ ",
        "  ",
        "+ ",
        "  # Check the class of the Month variable",
        "+ ",
        "  month_class <- class(df$Month)",
        "+ ",
        "  ",
        "+ ",
        "  # Print the result",
        "+ ",
        "  cat(\"Class of Month variable in\", df_name, \":\", month_class, \"\\n\")",
        "+ ",
        "}",
        "Class of Month variable in lancs_dr1_ap21 : POSIXct POSIXt \nClass of Month variable in lancs_dr1_apr22 : POSIXct POSIXt \nClass of Month variable in lancs_dr1_nov21 : POSIXct POSIXt \nClass of Month variable in lancs_dr1_nov22 : POSIXct POSIXt \nClass of Month variable in lancs_dr1_nov20 : POSIXct POSIXt \n",
        "> ",
        "",
        "> ",
        "# All files have month saved as a time and date:  POSIXct POSIXt ",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# Define the format string",
        "> ",
        "format_string <- \"%B-%y\"  # %B represents the full month name, %y represents the two-digit year",
        "> ",
        "",
        "> ",
        "# Parse the date column using the specified format",
        "> ",
        "lancs_dr1_nov20$Month <- as.Date(lancs_dr1_nov20$Month, format = format_string)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "lancs_dr1_nov20$Month <- as.Date(lancs_dr1_nov20$Month, format = \"%mm-%YY\")",
        "> ",
        "# check it worked",
        "> ",
        "class(lancs_dr1_nov20$Month)",
        "[1] \"Date\"\n",
        "> ",
        "# Doing this to the rest",
        "> ",
        "lancs_dr1_ap21$Month <- as.Date(lancs_dr1_ap21$Month, format = \"%m-%Y\")",
        "> ",
        "lancs_dr1_nov21$Month <- as.Date(lancs_dr1_nov21$Month, format = \"%m-%Y\")",
        "> ",
        "lancs_dr1_apr22$Month <- as.Date(lancs_dr1_apr22$Month, format = \"%m-%Y\")",
        "> ",
        "lancs_dr1_nov22$Month <- as.Date(lancs_dr1_nov22$Month, format = \"%m-%Y\")",
        "> ",
        "",
        "> ",
        "View(lancs_dr1_nov22)",
        "> ",
        "",
        "> ",
        "## Manually impute the date correctly. ",
        "> ",
        "",
        "> ",
        "# Merging LANCASHIRE ----------------------------",
        "> ",
        "# To join two data frames vertically, use: total <- rbind(data frameA, data frameB)",
        "> ",
        "all_lancs_dr1 <- bind_rows(lancs_dr1_nov20, lancs_dr1_apr21, lancs_dr1_nov21, ",
        "+ ",
        "                           lancs_dr1_apr22, lancs_dr1_nov22)",
        "> ",
        "",
        "> ",
        "# Adding a variable/column to show this dataframe comes from Lancashire. This will need to be clear in the full merge across LAs. ",
        "> ",
        "LA = c(\"Lancashire\")",
        "> ",
        "all_lancs_dr1$LA <- \"Lancashire\"",
        "> ",
        "",
        "> ",
        "# Removing all the singular data frames",
        "> ",
        "# Get the names of the data frames starting with 'lancs'",
        "> ",
        "# lancs_data_frames <- ls(pattern = \"^lancs\")",
        "> ",
        "",
        "> ",
        "# Remove the data frames",
        "> ",
        "# rm(list = lancs_data_frames)",
        "> ",
        "",
        "> ",
        "# Reading in SWINDON INDIVIDUALLY ---------------------------",
        "> ",
        "interim_swind_dr1_nov20 <- read_excel(\"Data/FS_DR1/swindon_dr1_nov20.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                              col_names = TRUE,",
        "+ ",
        "                              trim_ws = TRUE)",
        "> ",
        "swind_dr1_ap21 <- read_excel(\"Data/FS_DR1/swindon_dr1_apr21.xlsx\", ",
        "+ ",
        "                             sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                             col_names = TRUE,",
        "+ ",
        "                             trim_ws = TRUE)",
        "> ",
        "swind_dr1_nov21 <- read_excel(\"Data/FS_DR1/swindon_dr1_nov21.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                              col_names = TRUE,",
        "+ ",
        "                              trim_ws = TRUE)",
        "> ",
        "swind_dr1_apr22 <- read_excel(\"Data/FS_DR1/swindon_dr1_apr22.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                              trim_ws = TRUE)",
        "> ",
        "swind_dr1_nov22 <- read_excel(\"Data/FS_DR1/swindon_dr1_nov22.xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                              col_names = TRUE,",
        "+ ",
        "                              trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "# Looking at the composition of the files",
        "> ",
        "colnames(interim_swind_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                               \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                            \n [3] \"Average number of cases per children and family social worker (FTE counts)\"                                                                                          ",
        "\n [4] \"Proportion of plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"    \n [5] \"Proportion of CIN plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"\n [6] \"Proportion of CP plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\" ",
        "\n [7] \"Proportion of CLA where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"      \n [8] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"        \n [9] \"Turnover rate of children and family social caseholder staff\"                                                                                                        ",
        "\n[10] \"CLA rate per 10,000 children\"                                                                                                                                        \n[11] \"Number of children looked after at the end of the  month in the LA\"                                                                                                  \n[12] \"Number of children who newly became looked after this month in the LA\"                                                                                               ",
        "\n[13] \"Number of CIN plans that started this month in the LA\"                                                                                                               \n[14] \"Number of open CIN cases this month in the LA (all)\"                                                                                                                 \n[15] \"Number of open CIN cases this month in the LA (long term)\"                                                                                                           ",
        "\n[16] \"Number of CPPs that started this month in the LA\"                                                                                                                    \n[17] \"Number of open CPPs this month in the LA\"                                                                                                                            \n[18] \"Number of new referrals this month in the LA\"                                                                                                                        ",
        "\n",
        "> ",
        "# Changing nov 20",
        "> ",
        "swind_dr1_nov20 <- interim_swind_dr1_nov20[-c(3,4,5,6,7,9)]",
        "> ",
        "colnames(swind_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA (all)\"                                                                                                         ",
        "\n [9] \"Number of open CIN cases this month in the LA (long term)\"                                                                                                   \n[10] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[11] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[12] \"Number of new referrals this month in the LA\"                                                                                                                ",
        "\n",
        "> ",
        "#drop interim ",
        "> ",
        "rm(interim_swind_dr1_nov20)",
        "> ",
        "",
        "> ",
        "# Reconfiguring DATE AND TIME for Swindon =================",
        "> ",
        "# Unable to bind the dataframes as not all the month columns are configured as date time. ",
        "> ",
        "# Create a vector of dataframe names",
        "> ",
        "dataframe_names <- c(\"swind_dr1_ap21\", \"swind_dr1_apr22\", \"swind_dr1_nov21\", ",
        "+ ",
        "                     \"swind_dr1_nov22\", \"swind_dr1_nov20\")",
        "> ",
        "",
        "> ",
        "# Loop over the dataframe names",
        "> ",
        "for (df_name in dataframe_names) {",
        "+ ",
        "  # Get the dataframe object using its name",
        "+ ",
        "  df <- get(df_name)",
        "+ ",
        "  ",
        "+ ",
        "  # Check the class of the Month variable",
        "+ ",
        "  month_class <- class(df$Month)",
        "+ ",
        "  ",
        "+ ",
        "  # Print the result",
        "+ ",
        "  cat(\"Class of Month variable in\", df_name, \":\", month_class, \"\\n\")",
        "+ ",
        "}",
        "Class of Month variable in swind_dr1_ap21 : POSIXct POSIXt \nClass of Month variable in swind_dr1_apr22 : POSIXct POSIXt \nClass of Month variable in swind_dr1_nov21 : POSIXct POSIXt \nClass of Month variable in swind_dr1_nov22 : POSIXct POSIXt \nClass of Month variable in swind_dr1_nov20 : POSIXct POSIXt \n",
        "> ",
        "",
        "> ",
        "summary(swind_dr1_nov20)",
        "     Month                     Number of assessments completed (by CSC)\n Min.   :2019-10-01 00:00:00   Min.   : 69.0                           \n 1st Qu.:2020-01-01 00:00:00   1st Qu.:117.0                           \n Median :2020-04-01 00:00:00   Median :150.0                           \n Mean   :2020-04-01 01:50:46   Mean   :148.3                           \n 3rd Qu.:2020-07-01 00:00:00   3rd Qu.:177.0                           \n Max.   :2020-10-01 00:00:00   Max.   :221.0                           \n Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.",
        "\n Min.   :0.1473                                                                                                                                              \n 1st Qu.:0.1528                                                                                                                                              \n Median :0.1528                                                                                                                                              \n Mean   :0.1515                                                                                                                                              ",
        "\n 3rd Qu.:0.1528                                                                                                                                              \n Max.   :0.1528                                                                                                                                              \n CLA rate per 10,000 children Number of children looked after at the end of the  month in the LA\n Min.   :58.80                Min.   :295.0                                                     \n 1st Qu.:60.20               ",
        " 1st Qu.:302.0                                                     \n Median :62.00                Median :311.0                                                     \n Mean   :61.96                Mean   :311.1                                                     \n 3rd Qu.:63.10                3rd Qu.:317.0                                                     \n Max.   :65.10                Max.   :327.0                                                     \n Number of children who newly became looked after this month in the LA",
        "\n Min.   : 3.000                                                       \n 1st Qu.: 5.000                                                       \n Median : 7.000                                                       \n Mean   : 8.769                                                       \n 3rd Qu.:10.000                                                       \n Max.   :24.000                                                       \n Number of CIN plans that started this month in the LA Number of open CIN cases this month in the LA (all)",
        "\n Min.   : 82.0                                         Min.   :681                                        \n 1st Qu.:124.0                                         1st Qu.:712                                        \n Median :161.0                                         Median :775                                        \n Mean   :168.4                                         Mean   :801                                        \n 3rd Qu.:210.0                                         3rd Qu.:886                                        ",
        "\n Max.   :253.0                                         Max.   :971                                        \n Number of open CIN cases this month in the LA (long term) Number of CPPs that started this month in the LA\n Min.   :522.0                                             Min.   : 8.00                                   \n 1st Qu.:561.0                                             1st Qu.:14.00                                   \n Median :645.0                                             Median :22.00                                   ",
        "\n Mean   :651.8                                             Mean   :21.15                                   \n 3rd Qu.:724.0                                             3rd Qu.:29.00                                   \n Max.   :779.0                                             Max.   :32.00                                   \n Number of open CPPs this month in the LA Number of new referrals this month in the LA\n Min.   :125.0                            Min.   :100                                 \n 1st Qu.:160.0                           ",
        " 1st Qu.:156                                 \n Median :170.0                            Median :196                                 \n Mean   :171.9                            Mean   :197                                 \n 3rd Qu.:182.0                            3rd Qu.:230                                 \n Max.   :243.0                            Max.   :322                                 \n",
        "> ",
        " ",
        "> ",
        "# When trying to bind the columns it says that: Can't combine `..1$Number of CIN plans that started this month in the LA` <double> and `..4$Number of CIN plans that started this month in the LA` <character>.",
        "> ",
        "# Look at the class of the CIN column ",
        "> ",
        "dataframe_names <- c(\"swind_dr1_ap21\", \"swind_dr1_apr22\", \"swind_dr1_nov21\", ",
        "+ ",
        "                     \"swind_dr1_nov22\", \"swind_dr1_nov20\")",
        "> ",
        "",
        "> ",
        "# Loop over the dataframe names",
        "> ",
        "for (df_name in dataframe_names) {",
        "+ ",
        "  # Get the dataframe object using its name",
        "+ ",
        "  df <- get(df_name)",
        "+ ",
        "  ",
        "+ ",
        "  # Check the class of the Month variable",
        "+ ",
        "  CIN_class <- class(df$`Number of CIN plans that started this month in the LA`)",
        "+ ",
        "  ",
        "+ ",
        "  # Print the result",
        "+ ",
        "  cat(\"Class of CIN variable in\", df_name, \":\", CIN_class, \"\\n\")",
        "+ ",
        "}",
        "Class of CIN variable in swind_dr1_ap21 : numeric \nClass of CIN variable in swind_dr1_apr22 : numeric \nClass of CIN variable in swind_dr1_nov21 : character \nClass of CIN variable in swind_dr1_nov22 : numeric \nClass of CIN variable in swind_dr1_nov20 : numeric \n",
        "> ",
        "",
        "> ",
        "## Nov 21 is character",
        "> ",
        "View(swind_dr1_nov21)",
        "> ",
        "# The CIN column says 'Currently unavailable' ",
        "> ",
        "",
        "> ",
        "# Code to change this into numeric like the rest so that it can bind ",
        "> ",
        "swind_dr1_nov21$`Number of CIN plans that started this month in the LA`<- ",
        "+ ",
        "  as.numeric(swind_dr1_nov21$`Number of CIN plans that started this month in the LA`)",
        "Warning message:\n",
        "NAs introduced by coercion \n",
        "> ",
        "## NAs introduced by coercion",
        "> ",
        "",
        "> ",
        "# Binding the swindon files together ",
        "> ",
        "all_swind_dr1 <- bind_rows (swind_dr1_nov20, swind_dr1_ap21, swind_dr1_apr22, swind_dr1_nov21, swind_dr1_nov22)",
        "> ",
        "",
        "> ",
        "#Adding variable for LA",
        "> ",
        "LA = c(\"Swindon\")",
        "> ",
        "all_swind_dr1$LA <- \"Swindon\"",
        "> ",
        "",
        "> ",
        "# Move LA variable so that it's the first column. So far not working, come back to ",
        "> ",
        "# all_lancs_dr1 %%",
        "> ",
        "#  relocate(LA) %%",
        "> ",
        "#  head()",
        "> ",
        "",
        "> ",
        "# Reading in TELFORD AND WREKIN INDIVIDUALLY -------",
        "> ",
        "",
        "> ",
        "telford_dr1_nov20 <- read_excel(\"Data/FS_DR1/telford_dr1_nov20(3).xlsx\", ",
        "+ ",
        "                              sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                              col_names = TRUE,",
        "+ ",
        "                              trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "colnames(telford_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                           \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                        \n [3] \"Average number of cases per children and family social worker (FTE counts)\"                                                                                      \n [4] \"Proportion of plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"",
        "\n [5] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"    \n [6] \"Turnover rate of children and family social caseholder staff\"                                                                                                    \n [7] \"CLA rate per 10,000 children\"                                                                                                                                    \n [8] \"Number of children looked after at the end of the  month in the LA\"                                                                                              ",
        "\n [9] \"Number of children who newly became looked after this month in the LA\"                                                                                           \n[10] \"Number of CIN plans that started this month in the LA\"                                                                                                           \n[11] \"Number of open CIN cases this month in the LA\"                                                                                                                   \n[12] \"Number of CPPs that started this month in the LA\"                                                                                                                ",
        "\n[13] \"Number of open CPPs this month in the LA\"                                                                                                                        \n[14] \"Number of new referrals this month in the LA\"                                                                                                                    \n",
        "> ",
        "# Need to drop three columns. Number 3, 4, 6",
        "> ",
        "telford_dr1_nov20 <- telford_dr1_nov20[-c(3,4,6)]",
        "> ",
        "",
        "> ",
        "#Reading in the rest of the files for Telford",
        "> ",
        "telford_dr1_apr21 <- read_excel(\"Data/FS_DR1/telford_dr1_apr21.xlsx\", ",
        "+ ",
        "                                sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                                col_names = TRUE,",
        "+ ",
        "                                trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "telford_dr1_nov21 <- read_excel(\"Data/FS_DR1/telford_dr1_nov21.xlsx\", ",
        "+ ",
        "                                sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                                col_names = TRUE,",
        "+ ",
        "                                trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "telford_dr1_apr22 <- read_excel(\"Data/FS_DR1/telford_dr1_apr22.xlsx\", ",
        "+ ",
        "                                sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                                col_names = TRUE,",
        "+ ",
        "                                trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "telford_dr1_nov22 <- read_excel(\"Data/FS_DR1/telford_dr1_nov22.xlsx\", ",
        "+ ",
        "                                sheet = \"DR1 - Data - aggregate level\",",
        "+ ",
        "                                col_names = TRUE,",
        "+ ",
        "                                trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "# Merging Telford ",
        "> ",
        "all_telford_dr1 <- bind_rows(telford_dr1_nov20, telford_dr1_apr21, telford_dr1_apr22, ",
        "+ ",
        "                         telford_dr1_apr22, telford_dr1_apr22)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "LA = c(\"Telford\")",
        "> ",
        "all_telford_dr1$LA <- \"Telford\"",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# Reading in WALSALL INDIVIDUALLY -----------------",
        "> ",
        "",
        "> ",
        "walsall_dr1_nov20 <-  read_excel(\"Data/FS_DR1/walsall_dr1_nov20.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "colnames(walsall_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                           \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                        \n [3] \"Average number of cases per children and family social worker (FTE counts)\"                                                                                      \n [4] \"Proportion of plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"",
        "\n [5] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"    \n [6] \"Turnover rate of children and family social caseholder staff\"                                                                                                    \n [7] \"CLA rate per 10,000 children\"                                                                                                                                    \n [8] \"Number of children looked after at the end of the  month in the LA\"                                                                                              ",
        "\n [9] \"Number of children who newly became looked after this month in the LA\"                                                                                           \n[10] \"Number of CIN plans that started this month in the LA\"                                                                                                           \n[11] \"Number of open CIN cases this month in the LA (narrow definition provided June 2021)\"                                                                            \n[12] \"Number of open CIN cases this month in the LA (wider definition)\"                                                                                                ",
        "\n[13] \"Number of CPPs that started this month in the LA\"                                                                                                                \n[14] \"Number of open CPPs this month in the LA\"                                                                                                                        \n[15] \"Number of new referrals this month in the LA\"                                                                                                                    \n",
        "> ",
        "# Removing extra columns",
        "> ",
        "walsall_dr1_nov20 <- walsall_dr1_nov20[-c(3,4,6)]",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "walsall_dr1_apr21 <-  read_excel(\"Data/FS_DR1/walsall_dr1_apr21.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "walsall_dr1_nov21 <-  read_excel(\"Data/FS_DR1/walsall_dr1_nov21.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "walsall_dr1_apr22 <-  read_excel(\"Data/FS_DR1/walsall_dr1_apr22.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "walsall_dr1_nov22 <-  read_excel(\"Data/FS_DR1/walsall_dr1_nov22.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "# Merging the walsall data",
        "> ",
        "",
        "> ",
        "all_walsall_dr1 <- bind_rows( walsall_dr1_nov20, walsall_dr1_apr21, walsall_dr1_nov21,",
        "+ ",
        "                              walsall_dr1_apr22, walsall_dr1_nov22)",
        "> ",
        "",
        "> ",
        "LA <- c(\"Walsall\")",
        "> ",
        "all_walsall_dr1$LA <- \"Walsall\"",
        "> ",
        "",
        "> ",
        "View(all_walsall_dr1)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# Reading in WANDWSWORTH INDIVIDUALLY -----------",
        "> ",
        "wands_dr1_nov20 <-  read_excel(\"Data/FS_DR1/wandsworth_dr1_nov20.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                range = \"A1:O13\",",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "colnames(wands_dr1_nov20)",
        " [1] \"Month\"                                                                                                                                                           \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                        \n [3] \"Average number of cases per children and family social worker (FTE counts)\"                                                                                      \n [4] \"Proportion of plans where children /young people are not seen in accordance with timescales specified in the plan, for plans with a specified visiting schedule.\"",
        "\n [5] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"    \n [6] \"Turnover rate of children and family social caseholder staff\"                                                                                                    \n [7] \"CLA rate per 10,000 children\"                                                                                                                                    \n [8] \"Number of children looked after at the end of the  month in the LA\"                                                                                              ",
        "\n [9] \"Number of children who newly became looked after this month in the LA\"                                                                                           \n[10] \"Number of CIN plans that started this month in the LA (exc CPP)\"                                                                                                 \n[11] \"Number of open CIN cases this month in the LA (wider definition)\"                                                                                                \n[12] \"Number of open CIN cases this month in the LA (narrow definition)\"                                                                                               ",
        "\n[13] \"Number of CPPs that started this month in the LA\"                                                                                                                \n[14] \"Number of open CPPs this month in the LA\"                                                                                                                        \n[15] \"Number of new referrals this month in the LA\"                                                                                                                    \n",
        "> ",
        "# Removing extra columns",
        "> ",
        "wands_dr1_nov20 <- wands_dr1_nov20[-c(3,4,6)]",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "wands_dr1_apr21 <-  read_excel(\"Data/FS_DR1/wandsworth_dr1_apr21.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "wands_dr1_nov21 <-  read_excel(\"Data/FS_DR1/wandsworth_dr1_nov21.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "wands_dr1_apr22 <-  read_excel(\"Data/FS_DR1/wandsworth_dr1_apr22.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "wands_dr1_nov22 <-  read_excel(\"Data/FS_DR1/wandsworth_dr1_nov22.xlsx\", ",
        "+ ",
        "                                 sheet = \"DR1 - Data - aggregate level\", ",
        "+ ",
        "                                 col_names = TRUE,",
        "+ ",
        "                                 trim_ws = TRUE)",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "",
        "> ",
        "# Merging the walsall data",
        "> ",
        "",
        "> ",
        "all_wands_dr1 <- bind_rows(wands_dr1_nov20, wands_dr1_apr21, wands_dr1_nov21,",
        "+ ",
        "                           wands_dr1_apr22, wands_dr1_nov22)",
        "> ",
        "",
        "> ",
        "LA <- c(\"Wandsworth\")",
        "> ",
        "all_wands_dr1$LA <- \"Wandsworth\"",
        "> ",
        "",
        "> ",
        "View(all_wands_dr1)",
        "> ",
        "",
        "> ",
        "# Investigating column names to ensure they are consistent across LAs",
        "> ",
        "# SWINDON",
        "> ",
        "colnames(all_swind_dr1)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA (all)\"                                                                                                         ",
        "\n [9] \"Number of open CIN cases this month in the LA (long term)\"                                                                                                   \n[10] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[11] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[12] \"Number of new referrals this month in the LA\"                                                                                                                ",
        "\n[13] \"Number of open CIN cases this month in the LA\"                                                                                                               \n[14] \"LA\"                                                                                                                                                          \n",
        "> ",
        "#FIRST DECIDE WHICH CIN definition is being used.",
        "> ",
        "   # Dropping the 12th column for Swindon ([13] \"Number of open CIN cases this month in the LA\")",
        "> ",
        "   # all_swind_dr1 <- all_swind_dr1[-c(13)]",
        "> ",
        "",
        "> ",
        "#TELFORD",
        "> ",
        "colnames(all_telford_dr1) # consistent ",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA\"                                                                                                               ",
        "\n [9] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[10] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[11] \"Number of new referrals this month in the LA\"                                                                                                                \n[12] \"LA\"                                                                                                                                                          ",
        "\n",
        "> ",
        "",
        "> ",
        "# WALSALL ",
        "> ",
        "colnames(all_walsall_dr1)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA (narrow definition provided June 2021)\"                                                                        ",
        "\n [9] \"Number of open CIN cases this month in the LA (wider definition)\"                                                                                            \n[10] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[11] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[12] \"Number of new referrals this month in the LA\"                                                                                                                ",
        "\n[13] \"Number of open CIN cases this month in the LA\"                                                                                                               \n[14] \"LA\"                                                                                                                                                          \n",
        "> ",
        "",
        "> ",
        "# DO NOT DO UNTIL COLUMNS CONFIRMED ",
        "> ",
        "#Shortening the column names and standardising them across LAs",
        "> ",
        "colnames(all_lancs_dr1)",
        " [1] \"Month\"                                                                                                                                                       \n [2] \"Number of assessments completed (by CSC)\"                                                                                                                    \n [3] \"Proportion of children / young people eligible and claiming for Free School Meals for all school-age children and young people in the LA, out of all pupils.\"\n [4] \"CLA rate per 10,000 children\"                                                                                                                                ",
        "\n [5] \"Number of children looked after at the end of the  month in the LA\"                                                                                          \n [6] \"Number of children who newly became looked after this month in the LA\"                                                                                       \n [7] \"Number of CIN plans that started this month in the LA\"                                                                                                       \n [8] \"Number of open CIN cases this month in the LA\"                                                                                                               ",
        "\n [9] \"Number of CPPs that started this month in the LA\"                                                                                                            \n[10] \"Number of open CPPs this month in the LA\"                                                                                                                    \n[11] \"Number of new referrals this month in the LA\"                                                                                                                \n[12] \"LA\"                                                                                                                                                          ",
        "\n",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[3]  <- \"Proportion children eligible and claiming FSM\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[5]  <- \"CLA at end of month\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[6]  <- \"New CLA this month\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[7]  <- \"CIN plans started this month\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[8]  <- \"Open CIN cases this month\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[9]  <- \"CPPs started started this month\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[10]  <- \"Open CPPs this month\"",
        "> ",
        "",
        "> ",
        "#colnames(all_lancs_dr1)[11]  <- \"New referrals this month\"",
        "> ",
        "",
        "> ",
        "#Checking this worked",
        "> ",
        "#colnames(all_lancs_dr1)",
        "> ",
        "",
        "> ",
        "# Applying the column names to the other LAs and checking to see whether it worked",
        "> ",
        "#colnames(all_swind_dr1) <- colnames(all_lancs_dr1)",
        "> ",
        "#colnames(all_swind_dr1)",
        "> ",
        "",
        "> ",
        "#colnames(all_telford_dr1) <- colnames(all_lancs_dr1)",
        "> ",
        "#colnames(all_telford_dr1)",
        "> ",
        "",
        "> ",
        "#colnames(all_walsall_dr1) <- colnames(all_lancs_dr1)",
        "> ",
        "#colnames(all_walsall_dr1)",
        "> ",
        "",
        "> ",
        "#colnames(all_wands_dr1) <- colnames(all_lancs_dr1)",
        "> ",
        "#colnames(all_wands_dr1)",
        "> ",
        "",
        "> ",
        "# TO DO NEXT ------",
        "> ",
        "# Do I want to bind_rows to combine these datasets? Or merge on the date?",
        "> ",
        "",
        "> ",
        "# ALL DR1s in one dataset with ROWS BINDED",
        "> ",
        "all_dr1_bind <- bind_rows(all_lancs_dr1, all_swind_dr1, all_telford_dr1, ",
        "+ ",
        "                     all_walsall_dr1, all_wands_dr1)",
        "> ",
        "",
        "> ",
        "View(all_dr1_bind)",
        "> ",
        "# Merging Telford ",
        "> ",
        "all_telford_dr1 <- bind_rows(telford_dr1_nov20, telford_dr1_apr21, telford_dr1_apr22, ",
        "+ ",
        "                         telford_dr1_apr22, telford_dr1_nov22)",
        "> ",
        "all_dr1_bind <- bind_rows(all_lancs_dr1, all_swind_dr1, all_telford_dr1, ",
        "+ ",
        "                     all_walsall_dr1, all_wands_dr1)",
        "> ",
        "",
        "> ",
        "View(all_dr1_bind)",
        "> ",
        "# Cleaning the family safeguarding dataset for SFPC",
        "> ",
        "###################################################",
        "> ",
        "",
        "> ",
        "# Check if latest version of R ",
        "> ",
        "install.packages(\"installr\")",
        "Error in install.packages : Updating loaded packages\n",
        "> ",
        "library(installr)",
        "> ",
        "updateR()",
        "Installing the newest version of R,\n please wait for the installer file to be download and executed.\n Be sure to click 'next' as needed...\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/base/R-4.3.1-win.exe'\n",
        "Content type 'application/x-msdownload'",
        " length 82097152 bytes (78.3 MB)\n",
        "downloaded 78.3 MB\n\n",
        "\nThe file was downloaded successfully into:\n C:\\Users\\EMILYW~2\\AppData\\Local\\Temp\\Rtmp8AewzR/R-4.3.1-win.exe \n\nRunning the installer now...\n\nRestarting R session...\n\n"
    ]
}